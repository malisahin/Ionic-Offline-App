<ion-header class="header-content">
  <ion-navbar hideBackButton="true">
    <icon-header #header></icon-header>
  </ion-navbar>
</ion-header>

<ion-content class="content cagri-content">

  <ion-title class="page-title">{{title}}</ion-title>

  <ion-row class="mb-20">
    <ion-col col-6 col-6 col-sm>
      <button ion-button id="btnCagriSorgu" round full cgrArama (click)="cagriSorgula();" color="secondary">Sorgula
      </button>
    </ion-col>
    <ion-col col-6 col-6 col-sm>
      <button ion-button id="btnCagriGuncelle" round full cgrGuncelle (click)="cagriGuncelle();" color="secondary">
        GÃ¼ncelle
      </button>
    </ion-col>
  </ion-row>

  <ion-row *ngIf="this.searchParams != ''">
    <ion-chip *ngFor="let sorgu of searchParams">
      <ion-label>{{sorgu}}</ion-label>
    </ion-chip>
  </ion-row>

  <ion-card *ngFor="let cagri of cagrilar" (click)="cagriDetayinaGit($event, cagri.seqNo)" class="card-box">
    <p class="call-date">
      <strong>
        <i class="far fa-clock"></i>
        {{cagri.randevuTarihi | date: 'dd-MM-yyyy HH:mm'}}
      </strong>
    </p>
    <label>
      <strong>
        <i class="fas fa-user"></i>
        {{cagri.adi }} {{cagri.soyadi}} ({{cagri.seqNo}}) - ({{cagri.crmNo}})
      </strong>
    </label>
    <p>
      <i class="fas fa-cog"></i>
      {{cagri.mamAnaGrpAdi}} | {{cagri.hizmetTipiAdi}} | {{cagri.basvuruNedenAdi}}
    </p>
    <p>
      <i class="fas fa-phone"></i>
      {{cagri.gsmNo}} | {{cagri.evTel}} | {{cagri.evTel}}
    </p>

    <p>
      <i class="fas fa-location-arrow adres-box"></i>
      <span class="adres-box" *ngIf="cagri.semt != null && cagri.semt != ''">
        Semt: {{cagri.semt}}
      </span>

      <span class="adres-box" *ngIf="cagri.mahalleAdi != null && cagri.mahalleAdi !=''">
        Mahalle: {{cagri.mahalleAdi}}
      </span>

      <span class="adres-box" *ngIf="cagri.cadde != null && cagri.cadde !=''">
        Cadde: {{cagri.cadde}}
      </span>

      <span class="adres-box" *ngIf="cagri.sokak != null && cagri.sokak !=''">
        Sokak: {{cagri.sokak}}
      </span>

      <span class="adres-box" *ngIf="cagri.aparman!= null && cagri.aparman !=''">
        Apartman: {{cagri.aparman}} {{cagri.apartmanNo}}
      </span>


      <span class="adres-box" *ngIf="cagri.apartmanNo!= null && cagri.apartmanNo !=''">
        {{cagri.apartmanNo}}
      </span>

      <span class="adres-box" *ngIf="cagri.blok != null && cagri.blok!=''">
        Blok: {{cagri.blok}}
      </span>


      <span class="adres-box" *ngIf="cagri.daireNo != null && cagri.daireNo!=''">
        Daire No: {{cagri.daireNo}}
      </span>

      <span class="adres-box" *ngIf="cagri.ilceAdi != null && cagri.ilceAdi!=''">
        {{cagri.ilceAdi}}
      </span>

      <span class="adres-box" *ngIf="cagri.sehir != null && cagri.sehir!=''">
        /{{cagri.sehir}}
      </span>
    </p>
  </ion-card>
</ion-content>


<ion-footer>
  <ion-row>

    <ion-col col-4 col-md-2>
      <button ion-button color="light" (click)="fetchList('FIRST')" *ngIf="!pageable.isFirstPage">
        <ion-icon name="arrow-dropleft"></ion-icon>
      </button>
      <button ion-button color="light" (click)="fetchList('PREVIOUS')" *ngIf="!pageable.isFirstPage">
        <ion-icon name="arrow-back"></ion-icon>
      </button>
    </ion-col>

    <ion-col col-4 col-md-8>
      <ion-select [(ngModel)]="pageable.pageSize" (ionChange)="fetchList('PAGE_NO')" interface="popover">
        <ion-option value="10" selected="true">10</ion-option>
        <ion-option value="20">20</ion-option>
        <ion-option value="50">50</ion-option>
      </ion-select>
    </ion-col>

    <ion-col col-4 col-md-2>
      <button ion-button color="light" (click)="fetchList('NEXT')" *ngIf="!pageable.isLastPage">
        <ion-icon name="arrow-forward"></ion-icon>
      </button>

      <button ion-button color="light" (click)="fetchList('LAST')" *ngIf="!pageable.isLastPage">
        <ion-icon name="arrow-dropright"></ion-icon>
      </button>
    </ion-col>

  </ion-row>


</ion-footer>